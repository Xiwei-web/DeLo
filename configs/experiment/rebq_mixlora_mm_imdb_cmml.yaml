# @package _global_
# defaults:
#   - override /data: mm_imdb_cmml
#   - override /model: rebq
#   - override /train: default
#   - override /test: default

# EXP_NOTE: rebq
# OUTPUT_DIR: checkpoints/${EXP_NOTE}
# train:
#   criterion:
#     NAME: BCE
# test:
#   NAME: F1-Macro


# configs/experiment/rebq_mixlora_mm_imdb_cmml.yaml

# @package _global_

defaults:
  - override /data: mm_imdb_cmml
  - override /model: rebq_mixlora  # <-- 关键改动：指定使用我们的新模型配置
  - override /train: default
  - override /test: default

EXP_NOTE: rebq_mixlora_mmimdb # 实验笔记
OUTPUT_DIR: checkpoints/${EXP_NOTE}

# 覆盖训练配置中的criterion部分
train:
  criterion:
    NAME: rebq-mixlora # <-- 关键改动：指定使用我们新的联合损失函数
    DATASET_NAME: ${data.NAME} # 将数据集名称传递给criterion，用于选择正确的分类损失
    # 我们新损失函数的超参数
    LAMBDA_ALIGN: 0.1
    LAMBDA_CONSISTENCY: 0.1

# 覆盖测试配置，指定评估指标
test:
  NAME: F1-Macro